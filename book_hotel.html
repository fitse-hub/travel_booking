<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Booking</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Base Styles */
:root {
    --primary-color: #3498db;
    --primary-dark: #2980b9;
    --secondary-color: #2ecc71;
    --text-color: #333;
    --light-text: #666;
    --border-color: #ddd;
    --light-bg: #f9f9f9;
    --white: #fff;
    --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--text-color);
    background-color: #f5f7fa;
    line-height: 1.6;
}

/* Container */
.booking-container {
    max-width: 1000px;
    margin: 40px auto;
    background-color: var(--white);
    border-radius: 10px;
    box-shadow: var(--shadow);
    overflow: hidden;
    animation: fadeIn 0.5s ease;
}

/* Progress Bar */
.progress-container {
    padding: 30px;
    background-color: var(--light-bg);
    border-bottom: 1px solid var(--border-color);
}

.progress-bar {
    height: 6px;
    background-color: var(--border-color);
    border-radius: 3px;
    margin-bottom: 20px;
    position: relative;
}

.progress-fill {
    height: 100%;
    background-color: var(--primary-color);
    border-radius: 3px;
    width: 33.33%;
    transition: var(--transition);
}

.progress-steps {
    display: flex;
    justify-content: space-between;
}

.step {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 33.33%;
    position: relative;
    color: var(--light-text);
    transition: var(--transition);
}

.step.active {
    color: var(--primary-color);
}

.step.completed {
    color: var(--secondary-color);
}

.step-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--white);
    border: 2px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 8px;
    transition: var(--transition);
}

.step.active .step-icon {
    border-color: var(--primary-color);
    background-color: var(--primary-color);
    color: var(--white);
}

.step.completed .step-icon {
    border-color: var(--secondary-color);
    background-color: var(--secondary-color);
    color: var(--white);
}

.step-label {
    font-size: 14px;
    font-weight: 500;
}

/* Hotel Summary */
.hotel-summary {
    display: flex;
    padding: 20px 30px;
    border-bottom: 1px solid var(--border-color);
    background-color: var(--white);
}

.hotel-summary-img {
    width: 100px;
    height: 70px;
    border-radius: 5px;
    overflow: hidden;
    margin-right: 20px;
}

.hotel-summary-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.hotel-summary-info h3 {
    margin-bottom: 5px;
    font-size: 18px;
}

.hotel-stars {
    color: #f39c12;
    margin-bottom: 5px;
    font-size: 14px;
}

.hotel-location {
    font-size: 14px;
    color: var(--light-text);
}

.hotel-location i {
    margin-right: 5px;
}

/* Booking Steps */
.booking-steps {
    position: relative;
    min-height: 500px;
}

.booking-step {
    padding: 30px;
    display: none;
    animation: fadeIn 0.5s ease;
}

.booking-step.active {
    display: block;
}

.booking-step h2 {
    margin-bottom: 25px;
    color: var(--primary-color);
    font-weight: 600;
}

/* Form Elements */
.form-group {
    margin-bottom: 20px;
}

.form-row {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}

.form-group.half {
    width: 50%;
}

label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
}

.form-control {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid var(--border-color);
    border-radius: 5px;
    font-size: 16px;
    transition: var(--transition);
}

.form-control:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
}

select.form-control {
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 15px;
    padding-right: 40px;
}

/* Checkbox Styling */
.checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.checkbox-container {
    display: flex;
    align-items: center;
    position: relative;
    padding-left: 35px;
    cursor: pointer;
    user-select: none;
}

.checkbox-container input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

.checkmark {
    position: absolute;
    top: 0;
    left: 0;
    height: 22px;
    width: 22px;
    background-color: var(--white);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    transition: var(--transition);
}

.checkbox-container:hover input ~ .checkmark {
    border-color: var(--primary-color);
}

.checkbox-container input:checked ~ .checkmark {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

.checkmark:after {
    content: "";
    position: absolute;
    display: none;
}

.checkbox-container input:checked ~ .checkmark:after {
    display: block;
}

.checkbox-container .checkmark:after {
    left: 8px;
    top: 4px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

/* Price Calculator */
.price-calculator {
    background-color: var(--light-bg);
    border-radius: 8px;
    padding: 20px;
    margin: 30px 0;
}

.price-calculator h3 {
    margin-bottom: 15px;
    font-size: 18px;
}

.price-breakdown {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.price-row {
    display: flex;
    justify-content: space-between;
    font-size: 16px;
}

.price-row.total {
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid var(--border-color);
    font-weight: 600;
    font-size: 18px;
}

/* Button Styles */
.button-group {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
}

.btn {
    padding: 12px 25px;
    border-radius: 5px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    border: none;
}

.btn-primary {
    background-color: var(--primary-color);
    color: var(--white);
}

.btn-primary:hover {
    background-color: var(--primary-dark);
}

.btn-outline {
    background-color: transparent;
    border: 1px solid var(--primary-color);
    color: var(--primary-color);
}

.btn-outline:hover {
    background-color: var(--primary-color);
    color: var(--white);
}

/* Payment Methods */
.payment-methods {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
}

.payment-method {
    flex: 1;
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 15px;
    cursor: pointer;
    transition: var(--transition);
    position: relative;
}

.payment-method.active {
    border-color: var(--primary-color);
    background-color: rgba(52, 152, 219, 0.05);
}

.payment-method input {
    position: absolute;
    opacity: 0;
}

.payment-method label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin: 0;
    cursor: pointer;
}

.payment-method i {
    font-size: 24px;
}

.card-input-container {
    position: relative;
}

.card-icons {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: 5px;
}

.card-icons i {
    font-size: 20px;
    color: var(--light-text);
}

/* Confirmation Styles */
.confirmation-details {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.confirmation-section {
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 20px;
}

.confirmation-section:last-child {
    border-bottom: none;
}

.confirmation-section h3 {
    margin-bottom: 15px;
    font-size: 18px;
    color: var(--primary-color);
}

.confirmation-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
}

.confirmation-row.total {
    font-weight: 600;
    font-size: 18px;
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid var(--border-color);
}

.confirmation-section ul {
    list-style: none;
}

.confirmation-section ul li {
    padding: 5px 0;
}

.terms-conditions {
    margin: 30px 0;
}

.terms-conditions a {
    color: var(--primary-color);
    text-decoration: none;
}

.terms-conditions a:hover {
    text-decoration: underline;
}

/* Success Animation */
.success-animation {
    display: flex;
    justify-content: center;
    margin: 30px 0;
}

.checkmark-circle {
    width: 80px;
    height: 80px;
    position: relative;
    display: inline-block;
    vertical-align: top;
    border-radius: 50%;
    background-color: #4CAF50;
}

.checkmark-circle .checkmark {
    border-radius: 0;
    border: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(45deg);
    width: 40px;
    height: 70px;
    border-right: 4px solid white;
    border-bottom: 4px solid white;
    animation: checkmark 0.8s ease-in-out;
}

@keyframes checkmark {
    0% {
        height: 0;
        width: 0;
        opacity: 0;
    }
    40% {
        height: 0;
        width: 40px;
        opacity: 1;
    }
    100% {
        height: 70px;
        width: 40px;
        opacity: 1;
    }
}

#booking-success {
    text-align: center;
}

#booking-success h2 {
    color: #4CAF50;
}

#booking-success p {
    margin-bottom: 30px;
}

.booking-reference {
    background-color: var(--light-bg);
    padding: 15px;
    border-radius: 5px;
    margin: 20px 0;
    font-size: 18px;
    font-weight: 600;
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive Styles */
@media (max-width: 768px) {
    .booking-container {
        margin: 20px;
    }
    
    .form-row {
        flex-direction: column;
        gap: 10px;
    }
    
    .form-group.half {
        width: 100%;
    }
    
    .button-group {
        flex-direction: column;
        gap: 15px;
    }
    
    .btn {
        width: 100%;
    }
}
    </style>
</head>
<body>
    <div class="booking-container">
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <div class="step-icon"><i class="fas fa-info-circle"></i></div>
                    <div class="step-label">Details</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-icon"><i class="fas fa-credit-card"></i></div>
                    <div class="step-label">Payment</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-icon"><i class="fas fa-check-circle"></i></div>
                    <div class="step-label">Confirm</div>
                </div>
            </div>
        </div>

        <!-- Hotel Info Summary (Always visible) -->
        <div class="hotel-summary">
            <div class="hotel-summary-img">
                <img id="hotel-image" src="/placeholder.svg" alt="Hotel Image">
            </div>
            <div class="hotel-summary-info">
                <h3 id="hotel-name"></h3>
                <div class="hotel-stars" id="hotel-stars"></div>
                <p class="hotel-location" id="hotel-location"></p>
            </div>
        </div>

        <!-- Booking Steps -->
        <div class="booking-steps">
            <!-- Step 1: Details -->
            <div class="booking-step active" id="step-1">
                <h2>Booking Details</h2>
                
                <div class="form-group">
                    <label for="check-in">Check-in Date</label>
                    <input type="date" id="check-in" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="check-out">Check-out Date</label>
                    <input type="date" id="check-out" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="guests">Number of Guests</label>
                    <select id="guests" class="form-control">
                        <option value="1">1 Guest</option>
                        <option value="2" selected>2 Guests</option>
                        <option value="3">3 Guests</option>
                        <option value="4">4 Guests</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="room-type">Room Type</label>
                    <select id="room-type" class="form-control">
                        <option value="standard">Standard Room</option>
                        <option value="deluxe">Deluxe Room</option>
                        <option value="suite">Suite</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Add-ons</label>
                    <div class="checkbox-group">
                        <label class="checkbox-container">
                            <input type="checkbox" id="breakfast" class="addon-checkbox" data-price="25">
                            <span class="checkmark"></span>
                            Breakfast ($25 per day)
                        </label>
                        <label class="checkbox-container">
                            <input type="checkbox" id="airport-transfer" class="addon-checkbox" data-price="50">
                            <span class="checkmark"></span>
                            Airport Transfer ($50)
                        </label>
                        <label class="checkbox-container">
                            <input type="checkbox" id="spa-access" class="addon-checkbox" data-price="40">
                            <span class="checkmark"></span>
                            Spa Access ($40 per day)
                        </label>
                    </div>
                </div>
                
                <div class="price-calculator">
                    <h3>Price Summary</h3>
                    <div class="price-breakdown">
                        <div class="price-row">
                            <span>Room Rate:</span>
                            <span id="room-rate">$0</span>
                        </div>
                        <div class="price-row">
                            <span>Add-ons:</span>
                            <span id="addons-price">$0</span>
                        </div>
                        <div class="price-row">
                            <span>Taxes & Fees (15%):</span>
                            <span id="taxes">$0</span>
                        </div>
                        <div class="price-row total">
                            <span>Total:</span>
                            <span id="total-price">$0</span>
                        </div>
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-outline" onclick="window.history.back()">Back to Hotels</button>
                    <button class="btn btn-primary next-step" data-next="2">Continue to Payment</button>
                </div>
            </div>
            
            <!-- Step 2: Payment -->
            <div class="booking-step" id="step-2">
                <h2>Payment Information</h2>
                
                <div class="payment-methods">
                    <div class="payment-method active">
                        <input type="radio" name="payment-method" id="credit-card" checked>
                        <label for="credit-card">
                            <i class="fas fa-credit-card"></i> Credit Card
                        </label>
                    </div>
                    <div class="payment-method">
                        <input type="radio" name="payment-method" id="paypal">
                        <label for="paypal">
                            <i class="fab fa-paypal"></i> PayPal
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="cardholder">Cardholder Name</label>
                    <input type="text" id="cardholder" class="form-control" placeholder="John Doe" required>
                </div>
                
                <div class="form-group">
                    <label for="card-number">Card Number</label>
                    <div class="card-input-container">
                        <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456" maxlength="19" required>
                        <div class="card-icons">
                            <i class="fab fa-cc-visa"></i>
                            <i class="fab fa-cc-mastercard"></i>
                            <i class="fab fa-cc-amex"></i>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group half">
                        <label for="expiry">Expiry Date</label>
                        <input type="text" id="expiry" class="form-control" placeholder="MM/YY" maxlength="5" required>
                    </div>
                    <div class="form-group half">
                        <label for="cvv">CVV</label>
                        <input type="text" id="cvv" class="form-control" placeholder="123" maxlength="3" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="billing-address">Billing Address</label>
                    <input type="text" id="billing-address" class="form-control" placeholder="123 Main St" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group half">
                        <label for="city">City</label>
                        <input type="text" id="city" class="form-control" placeholder="New York" required>
                    </div>
                    <div class="form-group half">
                        <label for="zip">Zip Code</label>
                        <input type="text" id="zip" class="form-control" placeholder="10001" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="country">Country</label>
                    <select id="country" class="form-control" required>
                        <option value="">Select Country</option>
                        <option value="US">United States</option>
                        <option value="CA">Canada</option>
                        <option value="UK">United Kingdom</option>
                        <option value="AU">Australia</option>
                        <option value="FR">France</option>
                    </select>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-outline prev-step" data-prev="1">Back to Details</button>
                    <button class="btn btn-primary next-step" data-next="3">Review Booking</button>
                </div>
            </div>
            
            <!-- Step 3: Confirmation -->
            <div class="booking-step" id="step-3">
                <h2>Review Your Booking</h2>
                
                <div class="confirmation-details">
                    <div class="confirmation-section">
                        <h3>Stay Details</h3>
                        <div class="confirmation-row">
                            <span>Check-in:</span>
                            <span id="confirm-checkin"></span>
                        </div>
                        <div class="confirmation-row">
                            <span>Check-out:</span>
                            <span id="confirm-checkout"></span>
                        </div>
                        <div class="confirmation-row">
                            <span>Guests:</span>
                            <span id="confirm-guests"></span>
                        </div>
                        <div class="confirmation-row">
                            <span>Room Type:</span>
                            <span id="confirm-roomtype"></span>
                        </div>
                    </div>
                    
                    <div class="confirmation-section">
                        <h3>Add-ons</h3>
                        <ul id="confirm-addons">
                            <!-- Will be populated by JS -->
                        </ul>
                    </div>
                    
                    <div class="confirmation-section">
                        <h3>Price Summary</h3>
                        <div class="confirmation-row">
                            <span>Room Rate:</span>
                            <span id="confirm-room-rate"></span>
                        </div>
                        <div class="confirmation-row">
                            <span>Add-ons:</span>
                            <span id="confirm-addons-price"></span>
                        </div>
                        <div class="confirmation-row">
                            <span>Taxes & Fees (15%):</span>
                            <span id="confirm-taxes"></span>
                        </div>
                        <div class="confirmation-row total">
                            <span>Total:</span>
                            <span id="confirm-total-price"></span>
                        </div>
                    </div>
                    
                    <div class="confirmation-section">
                        <h3>Payment Method</h3>
                        <div class="confirmation-row">
                            <span>Card:</span>
                            <span id="confirm-card"></span>
                        </div>
                    </div>
                </div>
                
                <div class="terms-conditions">
                    <label class="checkbox-container">
                        <input type="checkbox" id="terms" required>
                        <span class="checkmark"></span>
                        I agree to the <a href="#">Terms and Conditions</a> and <a href="#">Cancellation Policy</a>
                    </label>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-outline prev-step" data-prev="2">Back to Payment</button>
                    <button class="btn btn-primary" id="confirm-booking">Confirm Booking</button>
                </div>
            </div>
            
            <!-- Booking Confirmation Success -->
            <div class="booking-step" id="booking-success">
                <div class="success-animation">
                    <div class="checkmark-circle">
                        <div class="checkmark"></div>
                    </div>
                </div>
                <h2>Booking Confirmed!</h2>
                <p>Your booking has been successfully confirmed. A confirmation email has been sent to your email address.</p>
                <div class="booking-reference">
                    <span>Booking Reference:</span>
                    <span id="booking-reference"></span>
                </div>
                <div class="button-group">
                    <button class="btn btn-outline" onclick="window.location.href='index.html'">Back to Home</button>
                    <button class="btn btn-primary" onclick="window.print()">Print Confirmation</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Hotel data (simulating data that would come from a database)
const hotels = [
    {
        id: 1,
        name: "Grand Hotel Paris",
        image: "grand.jpg",
        location: "Central Paris, 0.5 miles from Eiffel Tower",
        stars: 4.5,
        price: 200,
        originalPrice: 250,
        discount: 20,
        amenities: ["Free WiFi", "Restaurant", "Breakfast", "Pool"]
    },
    {
        id: 2,
        name: "Luxury Suites Paris",
        image: "suites.jpg",
        location: "Champs-Élysées, Paris",
        stars: 5,
        price: 350,
        originalPrice: 350,
        discount: 0,
        amenities: ["Free WiFi", "Restaurant", "Breakfast", "Spa", "Fitness Center"]
    },
    {
        id: 3,
        name: "Boutique Hotel Montmartre",
        image: "boutique.jpg",
        location: "Montmartre, Paris",
        stars: 4,
        price: 153,
        originalPrice: 180,
        discount: 15,
        amenities: ["Free WiFi", "Breakfast", "Bar", "Concierge"]
    },
    {
        id: 4,
        name: "Seine River Hotel",
        image: "seine.jpg",
        location: "Left Bank, Paris",
        stars: 4,
        price: 175,
        originalPrice: 175,
        discount: 0,
        amenities: ["Free WiFi", "Breakfast", "Bar", "Parking"]
    },
    {
        id: 5,
        name: "Kailua-Kona, Hawaii",
        image: "hawaii.jpg",
        location: "72-100 Ka'upulehu Dr, Kailua-Kona, USA",
        stars: 5,
        price: 350,
        originalPrice: 350,
        discount: 0,
        amenities: ["Free WiFi", "Restaurant", "Breakfast", "Spa", "Fitness Center"]
    },
    {
        id: 6,
        name: "The Little Nell – Aspen, Colorado",
        image: "ice.jpg",
        location: "675 E Durant Ave, Aspen, CO",
        stars: 4,
        price: 153,
        originalPrice: 180,
        discount: 15,
        amenities: ["Free WiFi", "Breakfast", "Bar", "Concierge"]
    },
    {
        id: 7,
        name: "Hassler Roma",
        image: "rroommee.jpg",
        location: "Piazza della Trinità dei Monti 6, Rome",
        stars: 4,
        price: 175,
        originalPrice: 175,
        discount: 0,
        amenities: ["Free WiFi", "Breakfast", "Bar", "Parking"]
    },
    {
        id: 8,
        name: "Shangri-La Sydney",
        image: "grace_sydney.jpg",
        location: "176 Cumberland St, The Rocks, Sydney",
        stars: 4.5,
        price: 200,
        originalPrice: 250,
        discount: 20,
        amenities: ["Free WiFi", "Restaurant", "Breakfast", "Pool"]
    }
];

// Room type prices (multipliers)
const roomPrices = {
    standard: 1,
    deluxe: 1.5,
    suite: 2.5
};

// Get URL parameters
function getUrlParams() {
    const params = new URLSearchParams(window.location.search);
    return {
        hotelId: parseInt(params.get('hotelId')) || 1
    };
}

// Initialize booking page
document.addEventListener('DOMContentLoaded', function() {
    const params = getUrlParams();
    const hotel = hotels.find(h => h.id === params.hotelId) || hotels[0];
    
    // Set hotel information
    document.getElementById('hotel-image').src = hotel.image;
    document.getElementById('hotel-name').textContent = hotel.name;
    
    // Set hotel stars
    const starsContainer = document.getElementById('hotel-stars');
    starsContainer.innerHTML = '';
    const fullStars = Math.floor(hotel.stars);
    const hasHalfStar = hotel.stars % 1 !== 0;
    
    for (let i = 0; i < fullStars; i++) {
        starsContainer.innerHTML += '<i class="fas fa-star"></i>';
    }
    
    if (hasHalfStar) {
        starsContainer.innerHTML += '<i class="fas fa-star-half-alt"></i>';
    }
    
    document.getElementById('hotel-location').innerHTML = `<i class="fas fa-map-marker-alt"></i> ${hotel.location}`;
    
    // Set minimum dates for check-in and check-out
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    
    const checkIn = document.getElementById('check-in');
    const checkOut = document.getElementById('check-out');
    
    checkIn.min = formatDate(today);
    checkIn.value = formatDate(today);
    
    checkOut.min = formatDate(tomorrow);
    checkOut.value = formatDate(tomorrow);
    
    // Initialize price calculator
    updatePriceCalculator();
    
    // Add event listeners
    checkIn.addEventListener('change', function() {
        const selectedDate = new Date(this.value);
        const nextDay = new Date(selectedDate);
        nextDay.setDate(nextDay.getDate() + 1);
        
        checkOut.min = formatDate(nextDay);
        if (new Date(checkOut.value) <= selectedDate) {
            checkOut.value = formatDate(nextDay);
        }
        
        updatePriceCalculator();
    });
    
    checkOut.addEventListener('change', updatePriceCalculator);
    document.getElementById('guests').addEventListener('change', updatePriceCalculator);
    document.getElementById('room-type').addEventListener('change', updatePriceCalculator);
    
    const addons = document.querySelectorAll('.addon-checkbox');
    addons.forEach(addon => {
        addon.addEventListener('change', updatePriceCalculator);
    });
    
    // Navigation between steps
    const nextButtons = document.querySelectorAll('.next-step');
    nextButtons.forEach(button => {
        button.addEventListener('click', function() {
            const nextStep = this.getAttribute('data-next');
            goToStep(nextStep);
        });
    });
    
    const prevButtons = document.querySelectorAll('.prev-step');
    prevButtons.forEach(button => {
        button.addEventListener('click', function() {
            const prevStep = this.getAttribute('data-prev');
            goToStep(prevStep);
        });
    });
    
    // Payment method selection
    const paymentMethods = document.querySelectorAll('.payment-method');
    paymentMethods.forEach(method => {
        method.addEventListener('click', function() {
            document.querySelector('.payment-method.active').classList.remove('active');
            this.classList.add('active');
            this.querySelector('input').checked = true;
        });
    });
    
    // Format card number with spaces
    const cardNumber = document.getElementById('card-number');
    cardNumber.addEventListener('input', function() {
        this.value = this.value.replace(/[^\d]/g, '').replace(/(.{4})/g, '$1 ').trim();
    });
    
    // Format expiry date
    const expiry = document.getElementById('expiry');
    expiry.addEventListener('input', function() {
        this.value = this.value.replace(/[^\d]/g, '');
        if (this.value.length > 2) {
            this.value = this.value.substring(0, 2) + '/' + this.value.substring(2, 4);
        }
    });
    
    // Confirm booking
    document.getElementById('confirm-booking').addEventListener('click', function() {
        if (!document.getElementById('terms').checked) {
            alert('Please agree to the Terms and Conditions to proceed.');
            return;
        }
        
        // Generate booking reference
        const bookingRef = generateBookingReference();
        document.getElementById('booking-reference').textContent = bookingRef;
        
        // Show success screen with animation
        goToStep('success');
    });
});

// Format date to YYYY-MM-DD
function formatDate(date) {
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    return `${year}-${month}-${day}`;
}

// Calculate number of nights
function calculateNights() {
    const checkIn = new Date(document.getElementById('check-in').value);
    const checkOut = new Date(document.getElementById('check-out').value);
    const timeDiff = checkOut.getTime() - checkIn.getTime();
    return Math.ceil(timeDiff / (1000 * 3600 * 24));
}

// Update price calculator
function updatePriceCalculator() {
    const params = getUrlParams();
    const hotel = hotels.find(h => h.id === params.hotelId) || hotels[0];
    const nights = calculateNights();
    const roomType = document.getElementById('room-type').value;
    const roomRate = hotel.price * roomPrices[roomType] * nights;
    
    // Calculate addons
    let addonsTotal = 0;
    const addons = document.querySelectorAll('.addon-checkbox:checked');
    addons.forEach(addon => {
        let addonPrice = parseFloat(addon.getAttribute('data-price'));
        if (addon.id === 'breakfast' || addon.id === 'spa-access') {
            addonPrice *= nights; // per day addons
        }
        addonsTotal += addonPrice;
    });
    
    // Calculate taxes
    const taxRate = 0.15;
    const taxAmount = (roomRate + addonsTotal) * taxRate;
    const totalPrice = roomRate + addonsTotal + taxAmount;
    
    // Update price display
    document.getElementById('room-rate').textContent = `$${roomRate.toFixed(2)}`;
    document.getElementById('addons-price').textContent = `$${addonsTotal.toFixed(2)}`;
    document.getElementById('taxes').textContent = `$${taxAmount.toFixed(2)}`;
    document.getElementById('total-price').textContent = `$${totalPrice.toFixed(2)}`;
}

// Go to specific step
function goToStep(step) {
    // Update active step
    document.querySelectorAll('.booking-step').forEach(s => {
        s.classList.remove('active');
    });
    
    if (step === 'success') {
        document.getElementById('booking-success').classList.add('active');
    } else {
        document.getElementById(`step-${step}`).classList.add('active');
        
        // Update progress bar
        const progressFill = document.querySelector('.progress-fill');
        progressFill.style.width = `${step * 33.33}%`;
        
        // Update step indicators
        document.querySelectorAll('.step').forEach(s => {
            const stepNum = parseInt(s.getAttribute('data-step'));
            s.classList.remove('active', 'completed');
            
            if (stepNum < step) {
                s.classList.add('completed');
            } else if (stepNum == step) {
                s.classList.add('active');
            }
        });
        
        // If going to confirmation step, update confirmation details
        if (step == 3) {
            updateConfirmationDetails();
        }
    }
    
    // Scroll to top
    window.scrollTo(0, 0);
}

// Update confirmation details
function updateConfirmationDetails() {
    const params = getUrlParams();
    const hotel = hotels.find(h => h.id === params.hotelId) || hotels[0];
    const checkIn = document.getElementById('check-in').value;
    const checkOut = document.getElementById('check-out').value;
    const guests = document.getElementById('guests').value;
    const roomType = document.getElementById('room-type').value;
    
    // Format dates
    const checkInDate = new Date(checkIn);
    const checkOutDate = new Date(checkOut);
    const formattedCheckIn = checkInDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
    const formattedCheckOut = checkOutDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
    
    // Update confirmation details
    document.getElementById('confirm-checkin').textContent = formattedCheckIn;
    document.getElementById('confirm-checkout').textContent = formattedCheckOut;
    document.getElementById('confirm-guests').textContent = `${guests} ${guests == 1 ? 'Guest' : 'Guests'}`;
    document.getElementById('confirm-roomtype').textContent = `${roomType.charAt(0).toUpperCase() + roomType.slice(1)} Room`;
    
    // Update addons
    const addonsList = document.getElementById('confirm-addons');
    addonsList.innerHTML = '';
    const addons = document.querySelectorAll('.addon-checkbox:checked');
    
    if (addons.length === 0) {
        addonsList.innerHTML = '<li>No add-ons selected</li>';
    } else {
        addons.forEach(addon => {
            const addonName = addon.parentElement.textContent.trim();
            addonsList.innerHTML += `<li>${addonName}</li>`;
        });
    }
    
    // Update price summary
    document.getElementById('confirm-room-rate').textContent = document.getElementById('room-rate').textContent;
    document.getElementById('confirm-addons-price').textContent = document.getElementById('addons-price').textContent;
    document.getElementById('confirm-taxes').textContent = document.getElementById('taxes').textContent;
    document.getElementById('confirm-total-price').textContent = document.getElementById('total-price').textContent;
    
    // Update payment method
    const cardNumber = document.getElementById('card-number').value;
    const lastFour = cardNumber.slice(-4);
    document.getElementById('confirm-card').textContent = `**** **** **** ${lastFour}`;
}

// Generate random booking reference
function generateBookingReference() {
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let result = '';
    for (let i = 0; i < 8; i++) {
        result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return result;
}
    </script>

</body>
</html>